build_dev:
  stage: build
  extends: .build_template
  variables:
    RESEND_API_KEY: ${RESEND_API_KEY}
    GITHUB_CLIENT_ID: ${GITHUB_CLIENT_ID}
    GITHUB_CLIENT_SECRET: ${GITHUB_CLIENT_SECRET}
    SENTRY_DSN: ${SENTRY_DSN}
    HONEYPOT_SECRET: ${HONEYPOT_SECRET_DEV}
    SESSION_SECRET: ${SESSION_SECRET_DEV}
    INTERNAL_COMMAND_TOKEN: ${INTERNAL_COMMAND_TOKEN}
  only:
    refs:
      - develop
  # except:
  #   changes:
  #     - .docker/docs/**/*

build_dev_manual:
  stage: build
  extends: .build_template
  variables:
    RESEND_API_KEY: ${RESEND_API_KEY}
    GITHUB_CLIENT_ID: ${GITHUB_CLIENT_ID}
    GITHUB_CLIENT_SECRET: ${GITHUB_CLIENT_SECRET}
    SENTRY_DSN: ${SENTRY_DSN}
    HONEYPOT_SECRET: ${HONEYPOT_SECRET_DEV}
    SESSION_SECRET: ${SESSION_SECRET_DEV}
    INTERNAL_COMMAND_TOKEN: ${INTERNAL_COMMAND_TOKEN}
  when: manual
  only:
    refs:
      - develop
